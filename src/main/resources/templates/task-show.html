<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="fragments/head :: head">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
</head>
<body>
<nav th:replace="fragments/navbar :: navbar"></nav>

    <div>
        <div th:each="project : ${projects}" value="Project name">
            <h2 th:text="${project.title}" value="Project name"></h2>
            <p th:text="${project.description}"></p>
        </div>
    </div>
    <div id="dialog-form" title="Create new task">
        <p class="validateTips">All form fields are required.</p>

        <form th:action="task" th:method="post" th:object="${task}">
            <fieldset>
                <label for="title">Task Title</label>
                <input type="text" name="title" id="title" value="" class="text ui-widget-content ui-corner-all" />
                <label for="description">Description</label>
                <input type="text" name="description" id="description" value="" class="text ui-widget-content ui-corner-all" />
                <label for="assign">Assign Task to:</label>
                <input type="text" name="assign" id="assign" value="" class="text ui-widget-content ui-corner-all" />
                <label for="order">Order</label>
                <input type="number" name="order" id="order" value="" class="text ui-widget-content ui-corner-all" />
                <input type="hidden" id="is_complete" />
                <!-- Allow form submission with keyboard without duplicating the dialog button -->
                <input type="submit" tabindex="-1" style="position:absolute; top:-1000px" />
            </fieldset>
        </form>
    </div>


<div id="tasks-contain" class="ui-widget">
    <h1>Project Tasks:</h1>

</div>
<button id="create-task">Create new task</button>


<footer th:replace="fragments/footer :: footer"></footer>
<!--<th:script>-->
    <!--$( function() {-->
        <!--var dialog, form,-->

            <!--title = $( "#title" ),-->
            <!--description = $( "#description" ),-->
            <!--assign = $( "#assign"),-->
            <!--order = $( "#order"),-->
            <!--allFields = $( [] ).add( title ).add( description ).add( assign ).add( order ),-->
            <!--tips = $( ".validateTips" );-->

        <!--function updateTips( t ) {-->
            <!--tips-->
                <!--.text( t )-->
                <!--.addClass( "ui-state-highlight" );-->
            <!--setTimeout(function() {-->
                <!--tips.removeClass( "ui-state-highlight", 1500 );-->
            <!--}, 500 );-->
        <!--}-->

        <!--function checkLength( o, n, min, max ) {-->
            <!--if ( o.val().length > max || o.val().length < min ) {-->
                <!--o.addClass( "ui-state-error" );-->
                <!--updateTips( "Length of " + n + " must be between " +-->
                    <!--min + " and " + max + "." );-->
                <!--return false;-->
            <!--} else {-->
                <!--return true;-->
            <!--}-->
        <!--}-->

        <!--function addTask() {-->
            <!--var valid = true;-->
            <!--allFields.removeClass( "ui-state-error" );-->

            <!--valid = valid && checkLength( title, "title", 3, 100 );-->
            <!--valid = valid && checkLength( description, "description", 6, 250 );-->
            <!--valid = valid && checkLength( order, "order", 1, 500);-->

            <!--if ( valid ) {-->
                <!--$( "#tasks-contain" ).append("Title: "+ title.val() + "<br/> " +-->
                    <!--"Description: " + description.val() + "<br/>" + "Assignee: " + assign.val() + "<br/>" + "Task Order: " + order.val() +"<br/>");-->
                <!--dialog.dialog( "close" );-->
            <!--}-->
            <!--return valid;-->
        <!--}-->

        <!--dialog = $( "#dialog-form" ).dialog({-->
            <!--autoOpen: false,-->
            <!--height: 400,-->
            <!--width: 350,-->
            <!--modal: true,-->
            <!--buttons: {-->
                <!--"Create a task": addTask,-->
                <!--Cancel: function() {-->
                    <!--dialog.dialog( "close" );-->
                <!--}-->
            <!--},-->
            <!--close: function() {-->
                <!--form[ 0 ].reset();-->
                <!--allFields.removeClass( "ui-state-error" );-->
            <!--}-->
        <!--});-->

        <!--form = dialog.find( "form" ).on( "submit", function( event ) {-->
            <!--event.preventDefault();-->
            <!--addTask();-->
        <!--});-->

        <!--$( "#create-task" ).button().on( "click", function() {-->
            <!--dialog.dialog( "open" );-->
        <!--});-->
    <!--} );-->
<!--</th:script>-->

</body>
</html>